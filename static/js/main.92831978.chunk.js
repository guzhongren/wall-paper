(this.webpackJsonpwallpaper=this.webpackJsonpwallpaper||[]).push([[0],{131:function(e,t,n){e.exports=n(254)},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=n(48),l=(n(141),n(67)),u=n(89),h=n.n(u),d=function(e){return e/25.4*(96*window.devicePixelRatio)},m=(n(142),n(90)),s=n(259),p=n(92),g=(n(143),n(256)),f=n(257),w=n(258),b=n(50),v=window,E=v.innerHeight,j={name:"PC",width:v.innerWidth,height:E},y={currentMod:"template",width:j.width,height:j.height,resolution:window.devicePixelRatio,currentDirection:"vertical",directions:["vertical","horizon"],currentModel:j.name,models:[j,{name:"iPhone 11",width:71.4,height:144},{name:"iPhone 11 Pro Max",width:77.8,height:158}]},O=Object(b.b)({name:"exporter",initialState:y,reducers:{changeWidth:function(e,t){var n=t.payload.width;e.width=n},changeHeight:function(e,t){var n=t.payload.height;e.height=n},changeResolution:function(e,t){var n=t.payload.resolution;e.resolution=n},changeCurrentModel:function(e,t){var n=t.payload.currentModel;e.currentModel=n;var a=e.models.find((function(e){return e.name===n}));a&&("vertical"===e.currentDirection?(e.height=a.height,e.width=a.width):(e.height=a.width,e.width=a.height))},changeCurrentDirection:function(e,t){var n=t.payload.currentDirection;e.currentDirection=n;var a=e.height,r=e.width;e.width=a,e.height=r}}}),M=O.actions,k=(M.changeHeight,M.changeWidth,M.changeResolution),x=M.changeCurrentModel,C=M.changeCurrentDirection,D=O.reducer,I=g.a.Option,P=function(){var e=Object(o.b)(),t=f.a.useForm(),n=Object(l.a)(t,1)[0],a=Object(o.c)((function(e){return e.exporter})),c=a.directions,i=a.models,u=a.currentDirection,h=a.currentModel,d=a.resolution;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{layout:"vertical",form:n},r.a.createElement(f.a.Item,{label:"\u673a\u578b"},r.a.createElement(g.a,{defaultValue:"".concat(h),onChange:function(t){e(x({currentModel:t}))}},i.map((function(e,t){return r.a.createElement(I,{key:t,value:e.name},e.name)})))),r.a.createElement(f.a.Item,{label:"\u65b9\u5411"},r.a.createElement(g.a,{defaultValue:"".concat(u),onChange:function(t){e(C({currentDirection:t}))}},c.map((function(e,t){return r.a.createElement(I,{key:t,value:"".concat(e)},e)})))),r.a.createElement(f.a.Item,{label:"\u5206\u8fa8\u7387",htmlFor:"resolution"},r.a.createElement(w.a,{id:"resolution",placeholder:"input placeholder",value:d,onChange:function(t){e(k({resolution:parseFloat(t.target.value)}))}}))))},W=m.a.TabPane,F=function(){return r.a.createElement("div",{className:"exporter"},r.a.createElement(s.a,{title:"\u5bfc\u51fa\u8bbe\u7f6e",bordered:!1},r.a.createElement(m.a,{defaultActiveKey:"1",onChange:function(){},className:"tabContainer"},r.a.createElement(W,{tab:"\u6a21\u677f",key:"1"},r.a.createElement(P,null)),r.a.createElement(W,{tab:"\u81ea\u5b9a\u4e49",key:"2"},"Content of Tab Pane 2")),r.a.createElement(p.a,{type:"primary",block:!0,onClick:function(e){var t=window.mapInstance.getCanvas().toDataURL("image/png");e.target.href=t}},r.a.createElement("a",{href:"",download:"map.png"},"Download \u2193"))))};var R=function(){var e=Object(a.useState)(window.innerHeight),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(window.innerWidth),u=Object(l.a)(i,2),m=u[0],s=u[1],p=Object(a.useRef)(null),g=Object(o.c)((function(e){return e.exporter})).currentModel,f=Object(o.c)((function(e){return e.exporter})),w=f.height,b=f.width;return Object(a.useEffect)((function(){"PC"===g?(c(w),s(b)):(c(d(w)),s(d(b)))}),[w,b,g]),Object(a.useEffect)((function(){h.a.accessToken="pk.eyJ1IjoiZ3V6aG9uZ3JlbiIsImEiOiJjajh0Z3ZvNXowbHF6MzNxenpoaTlqZnh0In0.UjqQlTKebjUEfWD6ZlVV7g";var e=new h.a.Map({container:"map",style:"mapbox://styles/guzhongren/ck9qomecy5v3z1is8k9cynq6r",center:[104.757,35.116],zoom:1,preserveDrawingBuffer:!0});window.mapInstance=e}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map",ref:p,className:"map",style:{width:"".concat(m,"px"),height:"".concat(n,"px")}}),r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(126),z=n(125),H=n.n(z),J=n(37),N=Object(b.b)({name:"map",initialState:{instance:null},reducers:{createMap:function(e,t){var n=t.payload.map;return Object(J.a)(e,(function(e){e.instance=n}))}}}),S=(N.actions.createMap,N.reducer),T=[].concat(Object(Z.a)(Object(b.c)()),[H.a]),V=Object(b.a)({reducer:{exporter:D,map:S},middleware:T});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:V},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.92831978.chunk.js.map