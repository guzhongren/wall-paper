(this.webpackJsonpwallpaper=this.webpackJsonpwallpaper||[]).push([[0],{131:function(e,t,n){e.exports=n(254)},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),i=n(48),l=(n(141),n(67)),u=n(89),d=n.n(u),m=function(e){return e/25.4*(96*window.devicePixelRatio)},h=(n(142),n(90)),s=n(259),p=n(92),f=(n(143),n(256)),g=n(257),b=n(258),v=n(50),w={name:"PC",width:window.innerWidth,height:window.innerHeight},E={currentMod:"template",width:w.width,height:w.height,resolution:window.devicePixelRatio,currentDirection:"vertical",directions:["vertical","horizon"],currentModel:w.name,models:[w,{name:"iPhone 11",width:71.4,height:144},{name:"iPhone 11 Pro Max",width:77.8,height:158}]},j=Object(v.b)({name:"exporter",initialState:E,reducers:{changeWidth:function(e,t){var n=t.payload.width;e.width=n},changeHeight:function(e,t){var n=t.payload.height;e.height=n},changeResolution:function(e,t){var n=t.payload.resolution;e.resolution=n},changeCurrentModel:function(e,t){var n=t.payload.currentModel;e.currentModel=n},changeCurrentDirection:function(e,t){var n=t.payload.currentDirection;e.currentDirection=n}}}),y=j.actions,O=(y.changeHeight,y.changeWidth,y.changeResolution),M=y.changeCurrentModel,k=y.changeCurrentDirection,x=j.reducer,C=f.a.Option,D=function(){var e=Object(i.b)(),t=g.a.useForm(),n=Object(l.a)(t,1)[0],a=Object(i.c)((function(e){return e.exporter})),o=a.directions,c=a.models,u=a.currentDirection,d=a.currentModel,m=a.resolution;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{layout:"vertical",form:n},r.a.createElement(g.a.Item,{label:"\u673a\u578b"},r.a.createElement(f.a,{defaultValue:"".concat(d),onChange:function(t){e(M({currentModel:t}))}},c.map((function(e,t){return r.a.createElement(C,{key:t,value:e.name},e.name)})))),r.a.createElement(g.a.Item,{label:"\u65b9\u5411"},r.a.createElement(f.a,{defaultValue:"".concat(u),onChange:function(t){e(k({currentDirection:t}))}},o.map((function(e,t){return r.a.createElement(C,{key:t,value:"".concat(e)},e)})))),r.a.createElement(g.a.Item,{label:"\u5206\u8fa8\u7387",htmlFor:"resolution"},r.a.createElement(b.a,{id:"resolution",placeholder:"input placeholder",value:m,onChange:function(t){e(O({resolution:parseFloat(t.target.value)}))}}))))},I=h.a.TabPane,P=function(){return r.a.createElement("div",{className:"exporter"},r.a.createElement(s.a,{title:"\u5bfc\u51fa\u8bbe\u7f6e",bordered:!1},r.a.createElement(h.a,{defaultActiveKey:"1",onChange:function(){},className:"tabContainer"},r.a.createElement(I,{tab:"\u6a21\u677f",key:"1"},r.a.createElement(D,null)),r.a.createElement(I,{tab:"\u81ea\u5b9a\u4e49",key:"2"},"Content of Tab Pane 2")),r.a.createElement(p.a,{type:"primary",block:!0,onClick:function(e){var t=window.mapInstance.getCanvas().toDataURL("image/png");e.target.href=t}},r.a.createElement("a",{href:"",download:"map.png"},"Download \u2193"))))};var F=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(0),u=Object(l.a)(c,2),h=u[0],s=u[1],p=Object(a.useRef)(null),f=Object(i.c)((function(e){return e.exporter})).currentModel,g=Object(i.c)((function(e){return e.exporter.models.find((function(e){return e.name===f}))}));return Object(a.useEffect)((function(){o(m((null===g||void 0===g?void 0:g.height)||0)),s(m((null===g||void 0===g?void 0:g.width)||0))}),[f,g]),Object(a.useEffect)((function(){d.a.accessToken="pk.eyJ1IjoiZ3V6aG9uZ3JlbiIsImEiOiJjajh0Z3ZvNXowbHF6MzNxenpoaTlqZnh0In0.UjqQlTKebjUEfWD6ZlVV7g";var e=new d.a.Map({container:"map",style:"mapbox://styles/guzhongren/ck9qomecy5v3z1is8k9cynq6r",center:[104.757,35.116],zoom:1,preserveDrawingBuffer:!0});window.mapInstance=e}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map",ref:p,className:"map",style:{width:"".concat(h,"px"),height:"".concat(n,"px")}}),r.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(126),W=n(125),Z=n.n(W),z=n(37),J=Object(v.b)({name:"map",initialState:{instance:null},reducers:{createMap:function(e,t){var n=t.payload.map;return Object(z.a)(e,(function(e){e.instance=n}))}}}),N=(J.actions.createMap,J.reducer),S=[].concat(Object(R.a)(Object(v.c)()),[Z.a]),T=Object(v.a)({reducer:{exporter:x,map:N},middleware:S});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:T},r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.ab9c525b.chunk.js.map